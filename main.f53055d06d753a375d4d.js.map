{"version":3,"sources":["webpack:///./templates/imageTpl.hbs","webpack:///./js/refs.js","webpack:///./js/apiService.js","webpack:///./js/create-markup.js","webpack:///./components/button.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","refs","searchForm","document","querySelector","gallery","searchQuery","page","fetchImages","url","query","axios","get","response","images","hits","incrementPage","resetPage","this","value","addEventListener","e","target","nodeName","basicLightbox","dataset","img","show","LoadMoreBtn","selector","hidden","getRefs","hide","button","label","spinner","enable","disabled","textContent","classList","add","disable","remove","loadMoreBtn","fetchMoreImages","event","apiService","then","length","innerHTML","markup","imageTpl","insertAdjacentHTML","createMarkup","window","scrollBy","top","documentElement","clientHeight","behavior","preventDefault","form","currentTarget","elements","reset"],"mappings":"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","file":"main.f53055d06d753a375d4d.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"gallery__item \\\">\\n  <div class=\\\"photo-card\\\">\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":14},\"end\":{\"line\":4,\"column\":30}}}) : helper)))\n    + \"\\\" data-img=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":42},\"end\":{\"line\":4,\"column\":59}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":66},\"end\":{\"line\":4,\"column\":74}}}) : helper)))\n    + \"\\\" />\\n\\n    <div class=\\\"stats\\\">\\n      <p class=\\\"stats-item likes\\\">\\n        <i class=\\\"material-icons\\\">thumb_up</i>\\n        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":8},\"end\":{\"line\":9,\"column\":17}}}) : helper)))\n    + \"\\n      </p>\\n      <p class=\\\"stats-item views\\\">\\n        <i class=\\\"material-icons\\\">visibility</i>\\n        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":8},\"end\":{\"line\":13,\"column\":17}}}) : helper)))\n    + \"\\n      </p>\\n      <p class=\\\"stats-item comments\\\">\\n        <i class=\\\"material-icons \\\">comment</i>\\n        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":8},\"end\":{\"line\":17,\"column\":20}}}) : helper)))\n    + \"\\n      </p>\\n      <p class=\\\"stats-item downloads\\\">\\n        <i class=\\\"material-icons \\\">cloud_download</i>\\n        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":8},\"end\":{\"line\":21,\"column\":21}}}) : helper)))\n    + \"\\n      </p>\\n    </div>\\n  </div>\\n</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","  \nexport const refs = {\n  searchForm: document.querySelector('#search-form'),\n  gallery: document.querySelector('.gallery'),\n};","import axios from 'axios';\n\nconst apiKey = '19509532-9c10a3c2f413abf8ad2252df8';\n\nexport default {\n  searchQuery: '',\n  page: 1,\n\n  async fetchImages() {\n    const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.query}&page=${this.page}&per_page=12&key=${apiKey}`;\n    const response = await axios.get(url);\n    const images = response.data.hits;\n    this.incrementPage();\n    return images;\n  },\n\n  resetPage() {\n    this.page = 1;\n  },\n\n  incrementPage() {\n    this.page += 1;\n  },\n\n  get query() {\n    return this.searchQuery;\n  },\n  set query(value) {\n    this.searchQuery = value;\n  },\n};","import { refs } from './refs';\nimport imageTpl from '../templates/imageTpl.hbs';\nimport * as basicLightbox from 'basiclightbox';\nimport '../../node_modules/basiclightbox/dist/basicLightbox.min.css';\n\nexport function createMarkup(images) {\n  const markup = imageTpl(images);\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\n}\nrefs.gallery.addEventListener('click', openModal);\n\nfunction openModal(e) {\n  if (e.target.nodeName !== 'IMG') {\n    return;\n  } else {\n    const instance = basicLightbox.create(`\n        <img src=\"${e.target.dataset.img}\" width=\"800\" height=\"600\">`);\n    instance.show();\n  }\n}","export default class LoadMoreBtn {\n  constructor({ selector, hidden = false }) {\n    this.refs = this.getRefs(selector);\n\n    hidden && this.hide();\n  }\n  getRefs(selector) {\n    const refs = {};\n    refs.button = document.querySelector(selector);\n    refs.label = refs.button.querySelector('.label');\n    refs.spinner = refs.button.querySelector('.spinner');\n\n    return refs;\n  }\n  enable() {\n    this.refs.button.disabled = false;\n    this.refs.label.textContent = 'Load more';\n    this.refs.spinner.classList.add('is-hidden');\n  }\n\n  disable() {\n    this.refs.button.disabled = true;\n    this.refs.label.textContent = 'Loading...';\n    this.refs.spinner.classList.remove('is-hidden');\n  }\n\n  show() {\n    this.refs.button.classList.remove('is-hidden');\n  }\n\n  hide() {\n    this.refs.button.classList.add('is-hidden');\n  }\n}","import { refs } from './js/refs';\nimport apiService from './js/apiService';\nimport { createMarkup } from './js/create-markup';\nimport LoadMoreBtn from './components/button';\nimport './styles.css';\n\nconst loadMoreBtn = new LoadMoreBtn({\n  selector: 'button[data-action=\"load-more\"]',\n  hidden: true,\n});\n\nrefs.searchForm.addEventListener('submit', onSubmit);\nloadMoreBtn.refs.button.addEventListener('click', fetchMoreImages);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n\n  const form = event.currentTarget;\n  apiService.searchQuery = form.elements.query.value;\n\n  clearGallery();\n  apiService.resetPage();\n  fetchMoreImages(event);\n  form.reset();\n}\n\nfunction fetchMoreImages(event) {\n  loadMoreBtn.disable();\n\n  apiService.fetchImages().then(images => {\n    if (images.length === 0) {\n      refs.gallery.innerHTML =\n        '<h1 class=\"error\"><span class=\"smille\">ðŸ˜” </span>No results were found for your search</h1>';\n      loadMoreBtn.hide();\n      return;\n    }\n    createMarkup(images);\n    loadMoreBtn.show();\n    loadMoreBtn.enable();\n\n    if (\n      event.target === loadMoreBtn.refs.button ||\n      event.target === loadMoreBtn.refs.label\n    ) {\n      scrollBy();\n    }\n  });\n}\n\nfunction clearGallery() {\n  refs.gallery.innerHTML = '';\n}\n\nfunction scrollBy() {\n  window.scrollBy({\n    top: document.documentElement.clientHeight,\n    behavior: 'smooth',\n  });\n}\n"],"sourceRoot":""}